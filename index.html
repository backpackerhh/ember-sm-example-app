<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>User CRUD App</title>
  </head>
  <body>
    <script type="text/x-handlebars">
      <div class="main">
        <h1>Hello World</h1>

        {{outlet}}
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="users">
      <p>{{#link-to "users.new" class="create-btn"}}Add user{{/link-to}}</p>

      <div>Users: {{usersCount}}</div>

      <ul class="users-listing">
        {{#each user in controller}}
          <li>
            {{#link-to "user" user}}
              {{user.name}}
            {{/link-to}}
          </li>
        {{else}}
          <li>No users found.</li>
        {{/each}}
      </ul>

      {{outlet}}
    </script>

    <script type="text/x-handlebars" data-template-name="user">
      <button {{action "edit"}}>Edit</button>

      {{#if deleteMode}}
        <div class="confirm-box">
          <h4>Really?</h4>
          <button {{action "confirmDelete"}}> yes </button>
          <button {{action "cancelDelete"}}> no </button>
        </div>
      {{else}}
        <button {{action "delete"}}>Delete</button>
      {{/if}}

      <div class="user-profile">
        <img {{bind-attr src="avatarUrl"}} width="100" alt="User's avatar" />
        <h2>{{name}}</h2>
        <span>{{email}}</span>
        <p>{{bio}}</p>
        <span>Created {{formatDate creationDate}}</span>
      </div>

      {{outlet}}
    </script>

    <script type="text/x-handlebars" data-template-name="user/edit">
      <div class="user-edit">
        <label>Choose user avatar</label>
        <br>
        {{input value=avatarUrl}}
        <br>
        <label>User name</label>
        <br>
        {{input value=name}}
        <br>
        <label>User email</label>
        <br>
        {{input value=email}}
        <br>
        <label>User short bio</label>
        <br>
        {{textarea value=bio}}
        <br>
        <button {{action "save"}}>Save</button>
      </div>
    </script>

    <!-- Ember & other dependencies -->
    <script src="js/libs/jquery/dist/jquery.min.js"></script>
    <script src="js/libs/handlebars/handlebars.min.js"></script>
    <script src="js/libs/ember/ember.min.js"></script>
    <script src="js/libs/ember-data/ember-data.min.js"></script>
    <script src="js/libs/ember-localstorage-adapter/localstorage_adapter.js"></script>
    <script src="js/libs/moment/min/moment.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/store.js"></script>
    <script src="js/router.js"></script>
    <script src="js/routes/index.js"></script>
    <script src="js/routes/users.js"></script>
    <script src="js/routes/users_new.js"></script>
    <script src="js/routes/user.js"></script>
    <script src="js/routes/user_edit.js"></script>
    <script src="js/models/user.js"></script>
    <script src="js/helpers/helpers.js"></script>
    <script src="js/controllers/users.js"></script>
    <script src="js/controllers/users_new.js"></script>
    <script src="js/controllers/user.js"></script>
    <script src="js/controllers/user_edit.js"></script>
  </body>
</html>